import{_ as c,C as E,c as u,o as e,a2 as t,b as r,j as o,w as a,a as n,G as p,a3 as i}from"./chunks/framework.9Uv4PgnO.js";const D=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home","hero":{"name":"Tenant Operator","text":"Multi-Tenant Kubernetes Automation","tagline":"Declarative, template-based resource provisioning with Server-Side Apply","image":{"src":"/logo.png","alt":"Tenant Operator"},"actions":[{"theme":"brand","text":"Get Started","link":"/quickstart"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/kubernetes-tenants/tenant-operator"}]},"features":[{"icon":"🚀","title":"Multi-Tenant Auto-Provisioning","details":"Read tenant data from external datasources (MySQL) and automatically create/sync Kubernetes resources using templates"},{"icon":"⚙️","title":"Policy-Based Lifecycle","details":"CreationPolicy (Once/WhenNeeded), DeletionPolicy (Delete/Retain), ConflictPolicy (Stuck/Force), PatchStrategy (apply/merge/replace)"},{"icon":"🔄","title":"Server-Side Apply (SSA)","details":"Kubernetes-native declarative resource management with conflict-free updates using SSA field manager"},{"icon":"📊","title":"Dependency Management","details":"DAG-based resource ordering with automatic cycle detection and topological sorting"},{"icon":"📝","title":"Powerful Template System","details":"Go text/template with 200+ Sprig functions and custom helpers (toHost, trunc63, sha1sum, fromJson)"},{"icon":"🔍","title":"Comprehensive Observability","details":"12 Prometheus metrics, structured logging, Kubernetes events, and Grafana dashboards"},{"icon":"✅","title":"Strong Consistency","details":"Ensures desired count = (referencing templates × active rows) with automatic garbage collection"},{"icon":"🛡️","title":"Production Ready","details":"Webhooks, finalizers, drift detection, auto-correction, RBAC, and comprehensive validation"},{"icon":"🔌","title":"Extensible Integration","details":"External datasource support (MySQL), External-DNS, Terraform Operator, and custom resources"}]},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1761891905000}'),y={name:"index.md"};function d(m,s,b,A,C,g){const l=E("Mermaid");return e(),u("div",null,[s[2]||(s[2]=t("",10)),(e(),r(i,null,{default:a(()=>[p(l,{id:"mermaid-24",class:"mermaid my-class",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20External%5B%22External%20Data%20Source%22%5D%0A%20%20%20%20%20%20%20%20DB%5B(MySQL%20%2F%20PostgreSQL)%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Cluster%5B%22Kubernetes%20Cluster%22%5D%0A%20%20%20%20%20%20%20%20direction%20TB%0A%0A%20%20%20%20%20%20%20%20subgraph%20Controllers%5B%22Operator%20Controllers%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20RC%5BTenantRegistry%20Controller%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20TC%5BTenantTemplate%20Controller%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20TNC%5BTenant%20Controller%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20CRDs%5B%22Custom%20Resources%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20TR%5BTenantRegistry%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20TT%5BTenantTemplate%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20T%5BTenant%20CRs%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20Engine%5B%22Apply%20Engine%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20SSA%5B%22SSA%20Apply%20Engine%3Cbr%2F%3E(fieldManager%3A%20tenant-operator)%22%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20Resources%5B%22Kubernetes%20Resources%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20DEP%5BDeployments%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20SVC%5BServices%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ING%5BIngresses%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20etc%5BConfigMaps%2C%20Secrets%2C%20...%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20API%5B(etcd%20%2F%20K8s%20API%20Server)%5D%0A%20%20%20%20end%0A%0A%20%20%20%20DB%20--%3E%7C%22syncInterval%3Cbr%2F%3E(e.g.%2C%201m)%22%7C%20RC%0A%20%20%20%20RC%20--%3E%7C%22Creates%2FUpdates%2FDeletes%3Cbr%2F%3ETenant%20CRs%22%7C%20API%0A%20%20%20%20API%20--%3E%7C%22Stores%22%7C%20TR%0A%20%20%20%20API%20--%3E%7C%22Stores%22%7C%20TT%0A%20%20%20%20API%20--%3E%7C%22Stores%22%7C%20T%0A%0A%20%20%20%20TC%20--%3E%7C%22Validates%3Cbr%2F%3Etemplate-registry%20linkage%22%7C%20API%0A%20%20%20%20TNC%20--%3E%7C%22Reconciles%3Cbr%2F%3Eeach%20Tenant%22%7C%20SSA%0A%20%20%20%20SSA%20--%3E%7C%22Server-Side%20Apply%22%7C%20API%0A%0A%20%20%20%20API%20--%3E%7C%22Creates%22%7C%20DEP%0A%20%20%20%20API%20--%3E%7C%22Creates%22%7C%20SVC%0A%20%20%20%20API%20--%3E%7C%22Creates%22%7C%20ING%0A%20%20%20%20API%20--%3E%7C%22Creates%22%7C%20etc%0A%0A%20%20%20%20style%20RC%20fill%3A%23e3f2fd%2Cstroke%3A%2364b5f6%2Cstroke-width%3A2px%0A%20%20%20%20style%20TC%20fill%3A%23e8f5e9%2Cstroke%3A%2381c784%2Cstroke-width%3A2px%0A%20%20%20%20style%20TNC%20fill%3A%23fff3e0%2Cstroke%3A%23ffb74d%2Cstroke-width%3A2px%0A%20%20%20%20style%20SSA%20fill%3A%23fce4ec%2Cstroke%3A%23f06292%2Cstroke-width%3A2px%0A%20%20%20%20style%20DB%20fill%3A%23f3e5f5%2Cstroke%3A%23ba68c8%2Cstroke-width%3A2px%0A"})]),fallback:a(()=>[...s[0]||(s[0]=[n(" Loading... ",-1)])]),_:1})),s[3]||(s[3]=o("h3",{id:"reconciliation-flow",tabindex:"-1"},[n("Reconciliation Flow "),o("a",{class:"header-anchor",href:"#reconciliation-flow","aria-label":'Permalink to "Reconciliation Flow"'},"​")],-1)),(e(),r(i,null,{default:a(()=>[p(l,{id:"mermaid-28",class:"mermaid my-class",graph:"sequenceDiagram%0A%20%20%20%20participant%20DB%20as%20MySQL%20Database%0A%20%20%20%20participant%20RC%20as%20Registry%20Controller%0A%20%20%20%20participant%20API%20as%20K8s%20API%20Server%0A%20%20%20%20participant%20TC%20as%20Template%20Controller%0A%20%20%20%20participant%20TNC%20as%20Tenant%20Controller%0A%20%20%20%20participant%20SSA%20as%20SSA%20Engine%0A%0A%20%20%20%20Note%20over%20DB%2CSSA%3A%20Registry%20Sync%20Cycle%20(e.g.%2C%20every%201%20minute)%0A%0A%20%20%20%20RC-%3E%3EDB%3A%20SELECT%20*%20FROM%20tenants%20WHERE%20activate%3DTRUE%0A%20%20%20%20DB--%3E%3ERC%3A%20Active%20tenant%20rows%0A%0A%20%20%20%20RC-%3E%3EAPI%3A%20Create%2FUpdate%20Tenant%20CRs%20(desired%20set)%0A%20%20%20%20RC-%3E%3EAPI%3A%20Delete%20Tenants%20not%20in%20desired%20set%0A%0A%20%20%20%20TC-%3E%3EAPI%3A%20Validate%20Template-Registry%20linkage%0A%20%20%20%20TC-%3E%3EAPI%3A%20Ensure%20consistency%0A%0A%20%20%20%20loop%20For%20Each%20Tenant%0A%20%20%20%20%20%20%20%20TNC-%3E%3EAPI%3A%20Get%20Tenant%20spec%0A%20%20%20%20%20%20%20%20TNC-%3E%3ETNC%3A%20Build%20dependency%20graph%20(dependIds)%0A%20%20%20%20%20%20%20%20TNC-%3E%3ETNC%3A%20Topological%20sort%20resources%0A%0A%20%20%20%20%20%20%20%20loop%20For%20Each%20Resource%20(in%20order)%0A%20%20%20%20%20%20%20%20%20%20%20%20TNC-%3E%3ETNC%3A%20Render%20templates%20(name%2C%20namespace%2C%20spec)%0A%20%20%20%20%20%20%20%20%20%20%20%20TNC-%3E%3ESSA%3A%20Apply%20resource%20with%20conflict%20policy%0A%20%20%20%20%20%20%20%20%20%20%20%20SSA-%3E%3EAPI%3A%20Server-Side%20Apply%20(force%20or%20not)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20alt%20waitForReady%20%3D%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20TNC-%3E%3EAPI%3A%20Wait%20for%20resource%20Ready%20condition%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20API--%3E%3ETNC%3A%20Ready%20(or%20timeout)%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20TNC-%3E%3EAPI%3A%20Update%20Tenant%20status%20(ready%2Ffailed%20counts)%0A%20%20%20%20end%0A%0A%20%20%20%20RC-%3E%3EAPI%3A%20Update%20Registry%20status%20(desired%2Fready%2Ffailed)%0A"})]),fallback:a(()=>[...s[1]||(s[1]=[n(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=t("",11))])}const f=c(y,[["render",d]]);export{D as __pageData,f as default};
