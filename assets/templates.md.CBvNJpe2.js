import{_ as n,c as r,o,a2 as a,j as s,a as l}from"./chunks/framework.9Uv4PgnO.js";const d=JSON.parse('{"title":"Template Guide","description":"","frontmatter":{},"headers":[],"relativePath":"templates.md","filePath":"templates.md","lastUpdated":1761887194000}'),c={name:"templates.md"};function p(t,e,i,u,b,m){return o(),r("div",null,[...e[0]||(e[0]=[a('<h1 id="template-guide" tabindex="-1">Template Guide <a class="header-anchor" href="#template-guide" aria-label="Permalink to &quot;Template Guide&quot;">​</a></h1><p>Templates are the core of Tenant Operator&#39;s resource generation system. This guide covers template syntax, available functions, and best practices.</p><nav class="table-of-contents"><ul><li><a href="#template-basics">Template Basics</a></li><li><a href="#see-also">See Also</a></li></ul></nav><h2 id="template-basics" tabindex="-1">Template Basics <a class="header-anchor" href="#template-basics" aria-label="Permalink to &quot;Template Basics&quot;">​</a></h2><p>Tenant Operator uses Go&#39;s <code>text/template</code> engine with the Sprig function library, providing 200+ built-in functions.</p>',5),s("div",null,[s("h3",{id:"template-syntax",tabindex:"-1"},[l("Template Syntax "),s("a",{class:"header-anchor",href:"#template-syntax","aria-label":'Permalink to "Template Syntax"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Basic variable substitution")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-app"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# With function")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid | trunc63 }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Conditional")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ if .region }}{{ .region }}-{{ end }}{{ .uid }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Default value")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-{{ .planId | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"basic"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br")])])],-1),s("div",null,[s("h2",{id:"available-variables",tabindex:"-1"},[l("Available Variables "),s("a",{class:"header-anchor",href:"#available-variables","aria-label":'Permalink to "Available Variables"'},"​")]),s("h3",{id:"required-variables",tabindex:"-1"},[l("Required Variables "),s("a",{class:"header-anchor",href:"#required-variables","aria-label":'Permalink to "Required Variables"'},"​")]),s("p",null,"These are always available from the template context:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".uid"),s("span",{style:{color:"#6A737D"}},"         # Tenant unique identifier (from uid mapping)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".hostOrUrl"),s("span",{style:{color:"#6A737D"}},"   # Original URL/host from registry (from hostOrUrl mapping)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".host"),s("span",{style:{color:"#6A737D"}},"        # Auto-extracted host from .hostOrUrl")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".activate"),s("span",{style:{color:"#6A737D"}},"    # Activation status (from activate mapping)")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])]),s("h3",{id:"context-variables",tabindex:"-1"},[l("Context Variables "),s("a",{class:"header-anchor",href:"#context-variables","aria-label":'Permalink to "Context Variables"'},"​")]),s("p",null,"Automatically provided:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".registryId"),s("span",{style:{color:"#6A737D"}},"   # TenantRegistry name")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".templateRef"),s("span",{style:{color:"#6A737D"}},"  # TenantTemplate name")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br")])]),s("h3",{id:"custom-variables",tabindex:"-1"},[l("Custom Variables "),s("a",{class:"header-anchor",href:"#custom-variables","aria-label":'Permalink to "Custom Variables"'},"​")]),s("p",null,[l("From "),s("code",null,"extraValueMappings"),l(" in TenantRegistry:")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"spec"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  extraValueMappings"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"    planId"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"subscription_plan")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"    region"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"deployment_region")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"    dbHost"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"database_host")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("p",null,"Access in templates:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".planId"),s("span",{style:{color:"#6A737D"}},"   # Maps to subscription_plan column")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".region"),s("span",{style:{color:"#6A737D"}},"   # Maps to deployment_region column")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},".dbHost"),s("span",{style:{color:"#6A737D"}},"   # Maps to database_host column")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br")])]),s("h2",{id:"template-functions",tabindex:"-1"},[l("Template Functions "),s("a",{class:"header-anchor",href:"#template-functions","aria-label":'Permalink to "Template Functions"'},"​")]),s("h3",{id:"built-in-custom-functions",tabindex:"-1"},[l("Built-in Custom Functions "),s("a",{class:"header-anchor",href:"#built-in-custom-functions","aria-label":'Permalink to "Built-in Custom Functions"'},"​")]),s("h4",{id:"tohost-url-✅",tabindex:"-1"},[s("code",null,"toHost(url)"),l(" ✅ "),s("a",{class:"header-anchor",href:"#tohost-url-✅","aria-label":'Permalink to "`toHost(url)` ✅"'},"​")]),s("p",null,"Extract hostname from URL:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Input: https://acme.example.com:8080/path")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Output: acme.example.com")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"env"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"HOST")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .hostOrUrl | toHost }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("h4",{id:"trunc63-s-✅",tabindex:"-1"},[s("code",null,"trunc63(s)"),l(" ✅ "),s("a",{class:"header-anchor",href:"#trunc63-s-✅","aria-label":'Permalink to "`trunc63(s)` ✅"'},"​")]),s("p",null,"Truncate to 63 characters (Kubernetes name limit):"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Ensures name fits K8s limits")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-{{ .region }}-deployment | trunc63 }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br")])]),s("h4",{id:"sha1sum-s-✅",tabindex:"-1"},[s("code",null,"sha1sum(s)"),l(" ✅ "),s("a",{class:"header-anchor",href:"#sha1sum-s-✅","aria-label":'Permalink to "`sha1sum(s)` ✅"'},"​")]),s("p",null,"Generate SHA1 hash:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Create unique, stable resource names")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"app-{{ .uid | sha1sum | trunc 8 }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br")])]),s("h4",{id:"fromjson-s-✅",tabindex:"-1"},[s("code",null,"fromJson(s)"),l(" ✅ "),s("a",{class:"header-anchor",href:"#fromjson-s-✅","aria-label":'Permalink to "`fromJson(s)` ✅"'},"​")]),s("p",null,"Parse JSON string:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Parse JSON configuration from database")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"env"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"API_KEY")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ (.config | fromJson).apiKey }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"ENDPOINT")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ (.config | fromJson).endpoint }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br")])]),s("h3",{id:"sprig-functions-200",tabindex:"-1"},[l("Sprig Functions (200+) "),s("a",{class:"header-anchor",href:"#sprig-functions-200","aria-label":'Permalink to "Sprig Functions (200+)"'},"​")]),s("p",null,[l("Full documentation: "),s("a",{href:"https://masterminds.github.io/sprig/",target:"_blank",rel:"noreferrer"},"https://masterminds.github.io/sprig/")]),s("h4",{id:"string-functions",tabindex:"-1"},[l("String Functions "),s("a",{class:"header-anchor",href:"#string-functions","aria-label":'Permalink to "String Functions"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Uppercase/lowercase")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid | upper }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid | lower }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Trim whitespace")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .name | trim }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Replace")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid | replace '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"."),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#79B8FF"}},' \\"'),s("span",{style:{color:"#9ECBFF"}},"-"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Quote")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .name | quote }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br")])]),s("h4",{id:"encoding-functions",tabindex:"-1"},[l("Encoding Functions "),s("a",{class:"header-anchor",href:"#encoding-functions","aria-label":'Permalink to "Encoding Functions"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Base64 encode/decode")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .secret | b64enc }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .encoded | b64dec }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# URL encoding")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .param | urlquery }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# SHA256")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .data | sha256sum }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br")])]),s("h4",{id:"default-values",tabindex:"-1"},[l("Default Values "),s("a",{class:"header-anchor",href:"#default-values","aria-label":'Permalink to "Default Values"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Provide default if variable is empty")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"image"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .deployImage | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"nginx:stable"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"port"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .appPort | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"8080"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"region"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .region | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"us-east-1"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])]),s("h4",{id:"conditionals",tabindex:"-1"},[l("Conditionals "),s("a",{class:"header-anchor",href:"#conditionals","aria-label":'Permalink to "Conditionals"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# If/else")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"env"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"DEBUG")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ if eq .planId '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"enterprise"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}true{{ else }}false{{ end }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Ternary")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"replicas"),s("span",{style:{color:"#E1E4E8"}},": {{ "),s("span",{style:{color:"#9ECBFF"}},'ternary 5 2 (eq .planId "enterprise")'),s("span",{style:{color:"#E1E4E8"}}," }}")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br")])]),s("h4",{id:"lists-and-iteration",tabindex:"-1"},[l("Lists and Iteration "),s("a",{class:"header-anchor",href:"#lists-and-iteration","aria-label":'Permalink to "Lists and Iteration"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Join")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"annotations"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  tags"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ list '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"app"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}}," .uid .region | join "),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},","),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Iterate (in ConfigMap data)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"data"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  config.json"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#F97583"}},"|")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},"    {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},'      "tenants": [')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},'        {{- range $i, $id := list \\"tenant1\\" \\"tenant2\\" }}')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},"        {{ if $i }},{{ end }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},'        "{{ $id }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},"        {{- end }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},"      ]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},"    }")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br"),s("span",{class:"line-number"},"13"),s("br"),s("span",{class:"line-number"},"14"),s("br"),s("span",{class:"line-number"},"15"),s("br")])]),s("h4",{id:"math-functions",tabindex:"-1"},[l("Math Functions "),s("a",{class:"header-anchor",href:"#math-functions","aria-label":'Permalink to "Math Functions"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Arithmetic")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ add .basePort 1000 }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ mul .cpuLimit 2 }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Min/max")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ max .minReplicas 3 }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br")])]),s("h2",{id:"template-examples",tabindex:"-1"},[l("Template Examples "),s("a",{class:"header-anchor",href:"#template-examples","aria-label":'Permalink to "Template Examples"'},"​")]),s("h3",{id:"example-1-multi-region-deployment",tabindex:"-1"},[l("Example 1: Multi-Region Deployment "),s("a",{class:"header-anchor",href:"#example-1-multi-region-deployment","aria-label":'Permalink to "Example 1: Multi-Region Deployment"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"deployments"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"  - "),s("span",{style:{color:"#85E89D"}},"id"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"app")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"    nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-{{ .region | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"default"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"    spec"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      apiVersion"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"apps/v1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      kind"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"Deployment")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      spec"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        replicas"),s("span",{style:{color:"#E1E4E8"}},": {{ "),s("span",{style:{color:"#9ECBFF"}},'if eq .planId "enterprise"'),s("span",{style:{color:"#E1E4E8"}}," }}"),s("span",{style:{color:"#9ECBFF"}},"5{{ else }}2{{ end }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        template"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          spec"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            containers"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"            - "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"app")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"              image"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .deployImage | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"myapp:latest"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"              env"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"              - "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"TENANT_ID")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"                value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"              - "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"REGION")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"                value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .region | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"us-east-1"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"              - "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"DATABASE_HOST")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"                value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .dbHost }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br"),s("span",{class:"line-number"},"13"),s("br"),s("span",{class:"line-number"},"14"),s("br"),s("span",{class:"line-number"},"15"),s("br"),s("span",{class:"line-number"},"16"),s("br"),s("span",{class:"line-number"},"17"),s("br"),s("span",{class:"line-number"},"18"),s("br"),s("span",{class:"line-number"},"19"),s("br"),s("span",{class:"line-number"},"20"),s("br")])]),s("h3",{id:"example-2-secure-resource-names",tabindex:"-1"},[l("Example 2: Secure Resource Names "),s("a",{class:"header-anchor",href:"#example-2-secure-resource-names","aria-label":'Permalink to "Example 2: Secure Resource Names"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Use SHA1 to create short, unique, stable names")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid | sha1sum | trunc 8 }}-app"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Ensures:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},'# - Fixed length (8 chars + "-app")')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# - Unique per tenant")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# - Stable across reconciliations")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# - URL-safe")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br")])]),s("h3",{id:"example-3-json-configuration",tabindex:"-1"},[l("Example 3: JSON Configuration "),s("a",{class:"header-anchor",href:"#example-3-json-configuration","aria-label":'Permalink to "Example 3: JSON Configuration"'},"​")]),s("p",null,"Database column contains JSON:"),s("div",{class:"language-json line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"json"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},'  "apiKey"'),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"sk-abc123"'),s("span",{style:{color:"#E1E4E8"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},'  "features"'),s("span",{style:{color:"#E1E4E8"}},": ["),s("span",{style:{color:"#9ECBFF"}},'"feature-a"'),s("span",{style:{color:"#E1E4E8"}},", "),s("span",{style:{color:"#9ECBFF"}},'"feature-b"'),s("span",{style:{color:"#E1E4E8"}},"],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#79B8FF"}},'  "limits"'),s("span",{style:{color:"#E1E4E8"}},": {"),s("span",{style:{color:"#79B8FF"}},'"requests"'),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#79B8FF"}},"1000"),s("span",{style:{color:"#E1E4E8"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"}")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("p",null,"Template usage:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"env"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"API_KEY")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ (.config | fromJson).apiKey }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"RATE_LIMIT")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ (.config | fromJson).limits.requests }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("h3",{id:"example-4-conditional-resources",tabindex:"-1"},[l("Example 4: Conditional Resources "),s("a",{class:"header-anchor",href:"#example-4-conditional-resources","aria-label":'Permalink to "Example 4: Conditional Resources"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Only create Redis for premium plans")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{{- "),s("span",{style:{color:"#9ECBFF"}},'if or (eq .planId "premium") (eq .planId "enterprise")'),s("span",{style:{color:"#E1E4E8"}}," }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"deployments"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"  - "),s("span",{style:{color:"#85E89D"}},"id"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"redis")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"    nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-redis"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"    spec"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      apiVersion"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"apps/v1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      kind"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"Deployment")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"      spec"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        replicas"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#79B8FF"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"        template"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"          spec"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"            containers"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"            - "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"redis")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"              image"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"redis:7-alpine")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{{- "),s("span",{style:{color:"#9ECBFF"}},"end"),s("span",{style:{color:"#E1E4E8"}}," }}")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br"),s("span",{class:"line-number"},"13"),s("br"),s("span",{class:"line-number"},"14"),s("br"),s("span",{class:"line-number"},"15"),s("br"),s("span",{class:"line-number"},"16"),s("br")])]),s("h3",{id:"example-5-dynamic-labels",tabindex:"-1"},[l("Example 5: Dynamic Labels "),s("a",{class:"header-anchor",href:"#example-5-dynamic-labels","aria-label":'Permalink to "Example 5: Dynamic Labels"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"labelsTemplate"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  app"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  tenant"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  plan"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .planId | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"basic"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  region"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .region | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"global"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  managed-by"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"tenant-operator"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  version"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .appVersion | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"v1.0.0"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br")])]),s("h2",{id:"template-best-practices",tabindex:"-1"},[l("Template Best Practices "),s("a",{class:"header-anchor",href:"#template-best-practices","aria-label":'Permalink to "Template Best Practices"'},"​")]),s("h3",{id:"_1-use-default-values",tabindex:"-1"},[l("1. Use Default Values "),s("a",{class:"header-anchor",href:"#_1-use-default-values","aria-label":'Permalink to "1. Use Default Values"'},"​")]),s("p",null,"Always provide defaults for optional variables:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Good")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"image"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .deployImage | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"nginx:stable"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Bad (fails if deployImage is empty)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"image"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .deployImage }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("h3",{id:"_2-respect-kubernetes-naming-limits",tabindex:"-1"},[l("2. Respect Kubernetes Naming Limits "),s("a",{class:"header-anchor",href:"#_2-respect-kubernetes-naming-limits","aria-label":'Permalink to "2. Respect Kubernetes Naming Limits"'},"​")]),s("p",null,"Always truncate names that might exceed 63 characters:"),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Good")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-{{ .region }}-deployment | trunc63 }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Bad (can exceed 63 chars)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-{{ .region }}-deployment"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("h3",{id:"_3-quote-string-values-in-yaml",tabindex:"-1"},[l("3. Quote String Values in YAML "),s("a",{class:"header-anchor",href:"#_3-quote-string-values-in-yaml","aria-label":'Permalink to "3. Quote String Values in YAML"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Good")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Bad (can cause YAML parsing errors)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": {{ "),s("span",{style:{color:"#9ECBFF"}},".uid"),s("span",{style:{color:"#E1E4E8"}}," }}")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("h3",{id:"_4-handle-missing-variables-gracefully",tabindex:"-1"},[l("4. Handle Missing Variables Gracefully "),s("a",{class:"header-anchor",href:"#_4-handle-missing-variables-gracefully","aria-label":'Permalink to "4. Handle Missing Variables Gracefully"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Good - provides default and checks existence")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{{- "),s("span",{style:{color:"#9ECBFF"}},"if .optionalField"),s("span",{style:{color:"#E1E4E8"}}," }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .optionalField }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{{- "),s("span",{style:{color:"#9ECBFF"}},"else"),s("span",{style:{color:"#E1E4E8"}}," }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"default-value"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{{- "),s("span",{style:{color:"#9ECBFF"}},"end"),s("span",{style:{color:"#E1E4E8"}}," }}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Or simpler")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ .optionalField | default '),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},"default-value"),s("span",{style:{color:"#79B8FF"}},'\\"'),s("span",{style:{color:"#9ECBFF"}},' }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br")])]),s("h3",{id:"_5-use-comments-for-complex-logic",tabindex:"-1"},[l("5. Use Comments for Complex Logic "),s("a",{class:"header-anchor",href:"#_5-use-comments-for-complex-logic","aria-label":'Permalink to "5. Use Comments for Complex Logic"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Calculate replicas based on plan tier")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# enterprise: 5, premium: 3, basic: 2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"replicas"),s("span",{style:{color:"#E1E4E8"}},": {{- "),s("span",{style:{color:"#9ECBFF"}},'if eq .planId "enterprise"'),s("span",{style:{color:"#E1E4E8"}}," }}"),s("span",{style:{color:"#9ECBFF"}},'5{{- else if eq .planId "premium" }}3{{- else }}2{{- end }}')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br")])]),s("h2",{id:"template-rendering-process",tabindex:"-1"},[l("Template Rendering Process "),s("a",{class:"header-anchor",href:"#template-rendering-process","aria-label":'Permalink to "Template Rendering Process"'},"​")]),s("h3",{id:"_1-variable-collection",tabindex:"-1"},[l("1. Variable Collection "),s("a",{class:"header-anchor",href:"#_1-variable-collection","aria-label":'Permalink to "1. Variable Collection"'},"​")]),s("p",null,"Registry controller collects variables from database row:"),s("div",{class:"language- line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",null,'uid = "acme-corp"')]),l(`
`),s("span",{class:"line"},[s("span",null,'hostOrUrl = "https://acme.example.com"')]),l(`
`),s("span",{class:"line"},[s("span",null,"activate = true")]),l(`
`),s("span",{class:"line"},[s("span",null,'planId = "enterprise"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])]),s("h3",{id:"_2-auto-processing",tabindex:"-1"},[l("2. Auto-Processing "),s("a",{class:"header-anchor",href:"#_2-auto-processing","aria-label":'Permalink to "2. Auto-Processing"'},"​")]),s("p",null,[l("Operator automatically extracts "),s("code",null,".host"),l(":")]),s("div",{class:"language- line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",null,'.host = "acme.example.com"  # extracted from .hostOrUrl')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br")])]),s("h3",{id:"_3-template-evaluation",tabindex:"-1"},[l("3. Template Evaluation "),s("a",{class:"header-anchor",href:"#_3-template-evaluation","aria-label":'Permalink to "3. Template Evaluation"'},"​")]),s("p",null,"For each resource in the template:"),s("ul",null,[s("li",null,[l("Render "),s("code",null,"nameTemplate"),l(" → resource name")]),s("li",null,[l("Render "),s("code",null,"labelsTemplate"),l(" → labels")]),s("li",null,[l("Render "),s("code",null,"annotationsTemplate"),l(" → annotations")]),s("li",null,[l("Render "),s("code",null,"spec"),l(" → recursively render all string values in the resource")])]),s("h3",{id:"_4-resource-creation",tabindex:"-1"},[l("4. Resource Creation "),s("a",{class:"header-anchor",href:"#_4-resource-creation","aria-label":'Permalink to "4. Resource Creation"'},"​")]),s("p",null,"Rendered resource is applied to Kubernetes using Server-Side Apply."),s("h2",{id:"debugging-templates",tabindex:"-1"},[l("Debugging Templates "),s("a",{class:"header-anchor",href:"#debugging-templates","aria-label":'Permalink to "Debugging Templates"'},"​")]),s("h3",{id:"check-rendered-values",tabindex:"-1"},[l("Check Rendered Values "),s("a",{class:"header-anchor",href:"#check-rendered-values","aria-label":'Permalink to "Check Rendered Values"'},"​")]),s("p",null,"View rendered Tenant CR to see evaluated templates:"),s("div",{class:"language-bash line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Get Tenant CR")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B392F0"}},"kubectl"),s("span",{style:{color:"#9ECBFF"}}," get"),s("span",{style:{color:"#9ECBFF"}}," tenant"),s("span",{style:{color:"#F97583"}}," <"),s("span",{style:{color:"#9ECBFF"}},"tenant-nam"),s("span",{style:{color:"#E1E4E8"}},"e"),s("span",{style:{color:"#F97583"}},">"),s("span",{style:{color:"#79B8FF"}}," -o"),s("span",{style:{color:"#9ECBFF"}}," yaml")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Check spec (contains rendered resources)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B392F0"}},"kubectl"),s("span",{style:{color:"#9ECBFF"}}," get"),s("span",{style:{color:"#9ECBFF"}}," tenant"),s("span",{style:{color:"#F97583"}}," <"),s("span",{style:{color:"#9ECBFF"}},"tenant-nam"),s("span",{style:{color:"#E1E4E8"}},"e"),s("span",{style:{color:"#F97583"}},">"),s("span",{style:{color:"#79B8FF"}}," -o"),s("span",{style:{color:"#9ECBFF"}}," jsonpath='{.spec.deployments[0].nameTemplate}'")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("h3",{id:"watch-for-rendering-errors",tabindex:"-1"},[l("Watch for Rendering Errors "),s("a",{class:"header-anchor",href:"#watch-for-rendering-errors","aria-label":'Permalink to "Watch for Rendering Errors"'},"​")]),s("div",{class:"language-bash line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Check operator logs")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B392F0"}},"kubectl"),s("span",{style:{color:"#9ECBFF"}}," logs"),s("span",{style:{color:"#79B8FF"}}," -n"),s("span",{style:{color:"#9ECBFF"}}," tenant-operator-system"),s("span",{style:{color:"#9ECBFF"}}," deployment/tenant-operator-controller-manager"),s("span",{style:{color:"#79B8FF"}}," -f"),s("span",{style:{color:"#F97583"}}," |"),s("span",{style:{color:"#B392F0"}}," grep"),s("span",{style:{color:"#9ECBFF"}},' "render"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Check Tenant events")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B392F0"}},"kubectl"),s("span",{style:{color:"#9ECBFF"}}," describe"),s("span",{style:{color:"#9ECBFF"}}," tenant"),s("span",{style:{color:"#F97583"}}," <"),s("span",{style:{color:"#9ECBFF"}},"tenant-nam"),s("span",{style:{color:"#E1E4E8"}},"e"),s("span",{style:{color:"#F97583"}},">")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br")])]),s("h3",{id:"common-errors",tabindex:"-1"},[l("Common Errors "),s("a",{class:"header-anchor",href:"#common-errors","aria-label":'Permalink to "Common Errors"'},"​")]),s("p",null,[s("strong",null,"Error:"),l(),s("code",null,'template: tmpl:1: function "unknownFunc" not defined')]),s("ul",null,[s("li",null,[s("strong",null,"Cause:"),l(" Using a function that doesn't exist")]),s("li",null,[s("strong",null,"Fix:"),l(" Check "),s("a",{href:"https://masterminds.github.io/sprig/",target:"_blank",rel:"noreferrer"},"Sprig docs"),l(" or "),s("a",{href:"#built-in-custom-functions"},"Custom Functions")])]),s("p",null,[s("strong",null,"Error:"),l(),s("code",null,'template: tmpl:1:10: executing "tmpl" at <.missingVar>: map has no entry for key "missingVar"')]),s("ul",null,[s("li",null,[s("strong",null,"Cause:"),l(" Referencing a variable that doesn't exist")]),s("li",null,[s("strong",null,"Fix:"),l(" Use "),s("code",null,"default"),l(" function or check "),s("code",null,"extraValueMappings")])]),s("p",null,[s("strong",null,"Error:"),l(),s("code",null,"yaml: line 10: mapping values are not allowed in this context")]),s("ul",null,[s("li",null,[s("strong",null,"Cause:"),l(" Missing quotes around template")]),s("li",null,[s("strong",null,"Fix:"),l(" Always quote templates: "),s("code",null,'"{{ .value }}"')])]),s("h2",{id:"advanced-template-techniques",tabindex:"-1"},[l("Advanced Template Techniques "),s("a",{class:"header-anchor",href:"#advanced-template-techniques","aria-label":'Permalink to "Advanced Template Techniques"'},"​")]),s("h3",{id:"nested-templates",tabindex:"-1"},[l("Nested Templates "),s("a",{class:"header-anchor",href:"#nested-templates","aria-label":'Permalink to "Nested Templates"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# Define reusable template values")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"{{- "),s("span",{style:{color:"#9ECBFF"}},'$appName := printf "%s-app" .uid'),s("span",{style:{color:"#E1E4E8"}}," }}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"nameTemplate"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ $appName }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])]),s("h3",{id:"range-over-lists",tabindex:"-1"},[l("Range Over Lists "),s("a",{class:"header-anchor",href:"#range-over-lists","aria-label":'Permalink to "Range Over Lists"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},"# In ConfigMap data field")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"data"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  endpoints.txt"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#F97583"}},"|")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},'    {{- range $i, $region := list "us-east-1" "us-west-2" "eu-west-1" }}')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},"    {{ $region }}.example.com")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9ECBFF"}},"    {{- end }}")])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br")])]),s("h3",{id:"complex-json-parsing",tabindex:"-1"},[l("Complex JSON Parsing "),s("a",{class:"header-anchor",href:"#complex-json-parsing","aria-label":'Permalink to "Complex JSON Parsing"'},"​")]),s("div",{class:"language-yaml line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#6A737D"}},`# Database field: config = '{"db":{"host":"localhost","port":5432}}'`)]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"env"),s("span",{style:{color:"#E1E4E8"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"DB_HOST")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ ((.config | fromJson).db).host }}"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#E1E4E8"}},"- "),s("span",{style:{color:"#85E89D"}},"name"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},"DB_PORT")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#85E89D"}},"  value"),s("span",{style:{color:"#E1E4E8"}},": "),s("span",{style:{color:"#9ECBFF"}},'"{{ ((.config | fromJson).db).port }}"')])])]),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br")])])],-1),a('<h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="./policies.html">Policies Guide</a> - Creation/deletion/conflict policies</li><li><a href="./dependencies.html">Dependencies Guide</a> - Resource ordering</li><li><a href="./api.html">API Reference</a> - Complete CRD schema</li></ul>',2)])])}const y=n(c,[["render",p]]);export{d as __pageData,y as default};
