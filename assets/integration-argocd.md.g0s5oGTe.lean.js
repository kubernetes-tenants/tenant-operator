import{_ as c,C as d,c as u,o as s,a2 as l,b as r,j as e,w as t,a,G as i,a8 as p}from"./chunks/framework.BmhNuda9.js";const C=JSON.parse('{"title":"Argo CD Integration Guide","description":"","frontmatter":{},"headers":[],"relativePath":"integration-argocd.md","filePath":"integration-argocd.md","lastUpdated":1762323966000}'),E={name:"integration-argocd.md"};function g(m,n,y,A,b,h){const o=d("Mermaid");return s(),u("div",null,[n[3]||(n[3]=l("",5)),(s(),r(p,null,{default:t(()=>[i(o,{id:"mermaid-15",class:"mermaid my-class",graph:"flowchart%20LR%0A%20%20%20%20Registry%5B%22TenantRegistry%3Cbr%2F%3EDB%20rows%22%5D%0A%20%20%20%20Template%5B%22TenantTemplate%3Cbr%2F%3EArgo%20CD%20manifest%22%5D%0A%20%20%20%20Tenant%5B%22Tenant%20CR%22%5D%0A%20%20%20%20ArgoApp%5B%22Argo%20CD%20Application%22%5D%0A%20%20%20%20ArgoCD%5B%22Argo%20CD%20Controller%22%5D%0A%20%20%20%20Targets%5B%22Target%20Cluster%20%2F%20Namespace%22%5D%0A%0A%20%20%20%20Registry%20--%3E%20Template%20--%3E%20Tenant%20--%3E%20ArgoApp%20--%3E%20ArgoCD%20--%3E%20Targets%0A%0A%20%20%20%20classDef%20control%20fill%3A%23e3f2fd%2Cstroke%3A%2364b5f6%2Cstroke-width%3A2px%3B%0A%20%20%20%20classDef%20argocd%20fill%3A%23fff3e0%2Cstroke%3A%23ffb74d%2Cstroke-width%3A2px%3B%0A%20%20%20%20class%20Registry%2CTemplate%2CTenant%20control%3B%0A%20%20%20%20class%20ArgoApp%2CArgoCD%20argocd%3B%0A"})]),fallback:t(()=>[...n[0]||(n[0]=[a(" Loading... ",-1)])]),_:1})),n[4]||(n[4]=l("",6)),n[5]||(n[5]=e("div",null,[e("div",{class:"language-yaml line-numbers-mode"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"yaml"),e("pre",{class:"shiki github-dark vp-code",tabindex:"0","v-pre":""},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"apiVersion"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"operator.kubernetes-tenants.org/v1")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"kind"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"TenantTemplate")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"metadata"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"  name"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"argocd-app-template")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"spec"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"  registryId"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"saas-registry")]),a(`
`),e("span",{class:"line"}),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"  manifests"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#E1E4E8"}},"    - "),e("span",{style:{color:"#85E89D"}},"id"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"argocd-app")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"      nameTemplate"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},'"{{ printf '),e("span",{style:{color:"#79B8FF"}},'\\"'),e("span",{style:{color:"#9ECBFF"}},"%s-app"),e("span",{style:{color:"#79B8FF"}},'\\"'),e("span",{style:{color:"#9ECBFF"}},' (.uid | trunc63) }}"')]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"      spec"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"        apiVersion"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"argoproj.io/v1alpha1")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"        kind"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"Application")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"        metadata"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"          namespace"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"argocd")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"          labels"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            tenant.kubernetes-tenants.org/uid"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}"')]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            tenant.kubernetes-tenants.org/region"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},'"{{ .region | default '),e("span",{style:{color:"#79B8FF"}},'\\"'),e("span",{style:{color:"#9ECBFF"}},"global"),e("span",{style:{color:"#79B8FF"}},'\\"'),e("span",{style:{color:"#9ECBFF"}},' }}"')]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"        spec"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"          project"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"tenants")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"          source"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            repoURL"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"https://github.com/your-org/tenant-configs.git")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            targetRevision"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"main")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            path"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},'"tenants/{{ .uid }}"')]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"          destination"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            server"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},"https://kubernetes.default.svc")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            namespace"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#9ECBFF"}},'"{{ .uid }}-workspace"')]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"          syncPolicy"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            automated"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"              prune"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#79B8FF"}},"true")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"              selfHeal"),e("span",{style:{color:"#E1E4E8"}},": "),e("span",{style:{color:"#79B8FF"}},"true")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#85E89D"}},"            syncOptions"),e("span",{style:{color:"#E1E4E8"}},":")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#E1E4E8"}},"              - "),e("span",{style:{color:"#9ECBFF"}},"CreateNamespace=true")]),a(`
`),e("span",{class:"line"},[e("span",{style:{color:"#E1E4E8"}},"              - "),e("span",{style:{color:"#9ECBFF"}},"ApplyOutOfSyncOnly=true")])])]),e("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br"),e("span",{class:"line-number"},"27"),e("br"),e("span",{class:"line-number"},"28"),e("br"),e("span",{class:"line-number"},"29"),e("br"),e("span",{class:"line-number"},"30"),e("br"),e("span",{class:"line-number"},"31"),e("br"),e("span",{class:"line-number"},"32"),e("br"),e("span",{class:"line-number"},"33"),e("br"),e("span",{class:"line-number"},"34"),e("br")])])],-1)),n[6]||(n[6]=e("h3",{id:"flow",tabindex:"-1"},[a("Flow "),e("a",{class:"header-anchor",href:"#flow","aria-label":'Permalink to "Flow"'},"â€‹")],-1)),(s(),r(p,null,{default:t(()=>[i(o,{id:"mermaid-78",class:"mermaid my-class",graph:"sequenceDiagram%0A%20%20%20%20participant%20DB%20as%20MySQL%20(Tenant%20Data)%0A%20%20%20%20participant%20Registry%20as%20TenantRegistry%20Controller%0A%20%20%20%20participant%20Tenant%20as%20Tenant%20CR%0A%20%20%20%20participant%20Operator%20as%20Tenant%20Controller%0A%20%20%20%20participant%20Argo%20as%20Argo%20CD%20Controller%0A%0A%20%20%20%20Registry-%3E%3EDB%3A%20SELECT%20active%20tenants%0A%20%20%20%20DB--%3E%3ERegistry%3A%20Tenant%20rows%0A%20%20%20%20Registry-%3E%3ETenant%3A%20Create%2FUpdate%20Tenant%20CR%0A%20%20%20%20Operator-%3E%3ETenant%3A%20Render%20Argo%20CD%20manifest%0A%20%20%20%20Operator-%3E%3EArgo%3A%20Apply%20Application%20(SSA)%0A%20%20%20%20Argo-%3E%3EArgo%3A%20Sync%20Git%20repo%0A%20%20%20%20Argo-%3E%3ECluster%3A%20Deploy%20tenant%20workloads%0A"})]),fallback:t(()=>[...n[1]||(n[1]=[a(" Loading... ",-1)])]),_:1})),n[7]||(n[7]=l("",9)),(s(),r(p,null,{default:t(()=>[i(o,{id:"mermaid-231",class:"mermaid my-class",graph:"flowchart%20TD%0A%20%20%20%20TenantA%5B%22Tenant%20(Enterprise)%22%5D%0A%20%20%20%20Canary%5B%22Application%3Cbr%2F%3EtargetRevision%3Dcanary%22%5D%0A%20%20%20%20Stable%5B%22Application%3Cbr%2F%3EtargetRevision%3Dstable%22%5D%0A%20%20%20%20Rollouts%5B%22Argo%20Rollouts%20%2F%20Analysis%22%5D%0A%20%20%20%20Namespace%5B%22Tenant%20Namespace%22%5D%0A%0A%20%20%20%20TenantA%20--%3E%20Canary%20--%3E%20Rollouts%20--%3E%20Namespace%0A%20%20%20%20TenantA%20--%3E%20Stable%20--%3E%20Namespace%0A"})]),fallback:t(()=>[...n[2]||(n[2]=[a(" Loading... ",-1)])]),_:1})),n[8]||(n[8]=l("",4))])}const D=c(E,[["render",g]]);export{C as __pageData,D as default};
