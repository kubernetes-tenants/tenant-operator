import{_ as a,c as n,o as e,a3 as l}from"./chunks/framework.DddEBHwx.js";const b=JSON.parse('{"title":"Installation Guide","description":"","frontmatter":{},"headers":[],"relativePath":"installation.md","filePath":"installation.md","lastUpdated":1763011429000}'),o={name:"installation.md"};function r(t,s,p,i,c,d){return e(),n("div",null,[...s[0]||(s[0]=[l(`<h1 id="installation-guide" tabindex="-1">Installation Guide <a class="header-anchor" href="#installation-guide" aria-label="Permalink to &quot;Installation Guide&quot;">​</a></h1><p>This guide covers various installation methods for Lynq.</p><nav class="table-of-contents"><ul><li><a href="#prerequisites">Prerequisites</a><ul><li><a href="#required">Required</a></li><li><a href="#optional">Optional</a></li></ul></li><li><a href="#kubernetes-compatibility">Kubernetes Compatibility</a><ul><li><a href="#supported-versions">Supported Versions</a></li></ul></li><li><a href="#installation-methods">Installation Methods</a><ul><li><a href="#method-1-install-with-helm-recommended">Method 1: Install with Helm (Recommended)</a></li><li><a href="#method-2-install-with-kustomize">Method 2: Install with Kustomize</a></li><li><a href="#method-3-install-from-source">Method 3: Install from Source</a></li><li><a href="#method-4-local-development-with-minikube">Method 4: Local Development with Minikube</a></li></ul></li><li><a href="#verification">Verification</a></li><li><a href="#configuration-options">Configuration Options</a><ul><li><a href="#webhook-tls-configuration">Webhook TLS Configuration</a></li><li><a href="#resource-limits">Resource Limits</a></li><li><a href="#concurrency-settings">Concurrency Settings</a></li></ul></li><li><a href="#multi-platform-support">Multi-Platform Support</a></li><li><a href="#namespace-isolation">Namespace Isolation</a></li><li><a href="#upgrading">Upgrading</a><ul><li><a href="#upgrade-crds-first">Upgrade CRDs First</a></li><li><a href="#upgrade-operator">Upgrade Operator</a></li><li><a href="#rolling-back">Rolling Back</a></li></ul></li><li><a href="#uninstallation">Uninstallation</a></li><li><a href="#troubleshooting-installation">Troubleshooting Installation</a><ul><li><a href="#webhook-tls-errors">Webhook TLS Errors</a></li><li><a href="#crd-already-exists">CRD Already Exists</a></li><li><a href="#image-pull-errors">Image Pull Errors</a></li><li><a href="#permission-denied">Permission Denied</a></li></ul></li><li><a href="#next-steps">Next Steps</a></li></ul></nav><div class="tip custom-block"><p class="custom-block-title">Trying it locally?</p><p>Use the <a href="./quickstart.html">Quick Start with Minikube</a> guide for an automated setup tailored to first-time users.</p></div><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><h3 id="required" tabindex="-1">Required <a class="header-anchor" href="#required" aria-label="Permalink to &quot;Required&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Component</th><th>Minimum version</th><th>Notes</th></tr></thead><tbody><tr><td>Kubernetes cluster</td><td>v1.11.3+</td><td>API compatibility tested with recent releases</td></tr><tr><td><code>kubectl</code></td><td>Matches cluster</td><td>Must target the cluster where you deploy</td></tr><tr><td><strong>cert-manager</strong></td><td><strong>v1.13.0+</strong></td><td><strong>REQUIRED for all installations</strong> (production, development, local)</td></tr></tbody></table><div class="danger custom-block"><p class="custom-block-title">cert-manager is REQUIRED</p><p><strong>cert-manager v1.13.0+</strong> is <strong>REQUIRED for ALL installations</strong> (production, development, and local environments). It provisions webhook TLS certificates, handles automatic renewal, and injects CA bundles into webhook configurations.</p><p><strong>Webhooks are no longer optional.</strong> They provide essential validation and defaulting at admission time.</p><p>Install before deploying Lynq:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h3 id="optional" tabindex="-1">Optional <a class="header-anchor" href="#optional" aria-label="Permalink to &quot;Optional&quot;">​</a></h3><ul><li><strong>MySQL database</strong> for node data source (PostgreSQL support planned for v1.2)</li></ul><h2 id="kubernetes-compatibility" tabindex="-1">Kubernetes Compatibility <a class="header-anchor" href="#kubernetes-compatibility" aria-label="Permalink to &quot;Kubernetes Compatibility&quot;">​</a></h2><h3 id="supported-versions" tabindex="-1">Supported Versions <a class="header-anchor" href="#supported-versions" aria-label="Permalink to &quot;Supported Versions&quot;">​</a></h3><p>The operator relies only on GA/stable Kubernetes APIs and controller-runtime patterns, making it compatible across the supported upstream version skew.</p><p><strong>Validated versions</strong> (end-to-end tested and production-verified):</p><table tabindex="0"><thead><tr><th>Kubernetes Version</th><th>Status</th></tr></thead><tbody><tr><td>v1.28</td><td>✅ Validated</td></tr><tr><td>v1.29</td><td>✅ Validated</td></tr><tr><td>v1.30</td><td>✅ Validated</td></tr><tr><td>v1.31</td><td>✅ Validated</td></tr><tr><td>v1.32</td><td>✅ Validated</td></tr><tr><td>v1.33</td><td>✅ Validated</td></tr><tr><td>Other GA releases</td><td>⚠️ Expected to work</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Compatibility Philosophy</p><p>The operator is designed to work across Kubernetes version skew. Earlier or newer versions are expected to function, but validate in a staging environment before rolling out broadly.</p></div><h2 id="installation-methods" tabindex="-1">Installation Methods <a class="header-anchor" href="#installation-methods" aria-label="Permalink to &quot;Installation Methods&quot;">​</a></h2><h3 id="method-1-install-with-helm-recommended" tabindex="-1">Method 1: Install with Helm (Recommended) <a class="header-anchor" href="#method-1-install-with-helm-recommended" aria-label="Permalink to &quot;Method 1: Install with Helm (Recommended)&quot;">​</a></h3><p><strong>cert-manager is REQUIRED</strong> for all installations.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Step 1: Install cert-manager (REQUIRED)</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Step 2: Wait for cert-manager to be ready</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> wait</span><span style="color:#79B8FF;"> --for=condition=Available</span><span style="color:#79B8FF;"> --timeout=300s</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/cert-manager</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/cert-manager-webhook</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/cert-manager-cainjector</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Step 3: Add Helm repository</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#9ECBFF;"> repo</span><span style="color:#9ECBFF;"> add</span><span style="color:#9ECBFF;"> lynq</span><span style="color:#9ECBFF;"> https://k8s-lynq.github.io/lynq</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#9ECBFF;"> repo</span><span style="color:#9ECBFF;"> update</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Step 4: Install Lynq</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#9ECBFF;"> install</span><span style="color:#9ECBFF;"> lynq</span><span style="color:#9ECBFF;"> lynq/lynq</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#79B8FF;">  --namespace</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#79B8FF;">  --create-namespace</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>See the <a href="https://github.com/k8s-lynq/lynq/blob/main/chart/README.md" target="_blank" rel="noreferrer">Helm Chart README</a> for detailed configuration options.</p><hr><h3 id="method-2-install-with-kustomize" tabindex="-1">Method 2: Install with Kustomize <a class="header-anchor" href="#method-2-install-with-kustomize" aria-label="Permalink to &quot;Method 2: Install with Kustomize&quot;">​</a></h3><p><strong>cert-manager is REQUIRED</strong> for webhook TLS certificate management.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Step 1: Install cert-manager (if not already installed)</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Step 2: Wait for cert-manager to be ready</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> wait</span><span style="color:#79B8FF;"> --for=condition=Available</span><span style="color:#79B8FF;"> --timeout=300s</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span><span style="color:#9ECBFF;"> deployment/cert-manager</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> wait</span><span style="color:#79B8FF;"> --for=condition=Available</span><span style="color:#79B8FF;"> --timeout=300s</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span><span style="color:#9ECBFF;"> deployment/cert-manager-webhook</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Step 3: Install Lynq</span></span>
<span class="line"><span style="color:#6A737D;"># cert-manager will automatically issue and manage webhook TLS certificates</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -k</span><span style="color:#9ECBFF;"> https://github.com/k8s-lynq/lynq/config/default</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="info custom-block"><p class="custom-block-title">What cert-manager handles</p><ul><li>Issues TLS certificates for the webhook server</li><li>Renews certificates before expiration</li><li>Injects the CA bundle into webhook configurations</li><li>Provides battle-tested certificate automation for Kubernetes clusters</li></ul></div><h3 id="method-3-install-from-source" tabindex="-1">Method 3: Install from Source <a class="header-anchor" href="#method-3-install-from-source" aria-label="Permalink to &quot;Method 3: Install from Source&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Clone repository</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> clone</span><span style="color:#9ECBFF;"> https://github.com/k8s-lynq/lynq.git</span></span>
<span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#9ECBFF;"> lynq</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Install CRDs</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Install cert-manager first if not already installed</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Deploy operator</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> deploy</span><span style="color:#9ECBFF;"> IMG=ghcr.io/k8s-lynq/lynq:latest</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">Remember TLS</p><p>Even when deploying from source, install cert-manager before applying the operator manifests, otherwise webhooks will fail to start.</p></div><h3 id="method-4-local-development-with-minikube" tabindex="-1">Method 4: Local Development with Minikube <a class="header-anchor" href="#method-4-local-development-with-minikube" aria-label="Permalink to &quot;Method 4: Local Development with Minikube&quot;">​</a></h3><p>For local development, use Minikube with automated setup scripts. <strong>cert-manager is automatically installed</strong> by the setup script.</p><p>See <a href="./local-development-minikube.html">Local Development with Minikube</a> for detailed instructions.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Quick setup (cert-manager included)</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/setup-minikube.sh</span><span style="color:#6A737D;">      # Create cluster with cert-manager</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span><span style="color:#6A737D;">  # Build and deploy operator</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">cert-manager in Local Development</p><p>The setup script automatically installs cert-manager. You don&#39;t need to install it manually for local development when using the provided scripts.</p></div><h2 id="verification" tabindex="-1">Verification <a class="header-anchor" href="#verification" aria-label="Permalink to &quot;Verification&quot;">​</a></h2><p>Check that the operator is running:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check operator deployment</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> lynq-controller-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check operator logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Verify CRDs are installed</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> crd</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> operator.lynq.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Expected output:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>lynqhubs.operator.lynq.sh    2025-01-15T10:00:00Z</span></span>
<span class="line"><span>lynqnodes.operator.lynq.sh             2025-01-15T10:00:00Z</span></span>
<span class="line"><span>lynqforms.operator.lynq.sh     2025-01-15T10:00:00Z</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Troubleshooting</p><p>If the deployment is not ready, inspect <code>kubectl describe deployment/lynq-controller-manager</code> for webhook, RBAC, or image issues.</p></div><h2 id="configuration-options" tabindex="-1">Configuration Options <a class="header-anchor" href="#configuration-options" aria-label="Permalink to &quot;Configuration Options&quot;">​</a></h2><h3 id="webhook-tls-configuration" tabindex="-1">Webhook TLS Configuration <a class="header-anchor" href="#webhook-tls-configuration" aria-label="Permalink to &quot;Webhook TLS Configuration&quot;">​</a></h3><p>Webhook TLS is managed automatically by cert-manager. The default configuration includes:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># config/default/kustomization.yaml</span></span>
<span class="line"><span style="color:#6A737D;"># Webhook patches are enabled by default</span></span>
<span class="line"><span style="color:#85E89D;">patches</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#85E89D;">path</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">manager_webhook_patch.yaml</span></span>
<span class="line"><span style="color:#E1E4E8;">- </span><span style="color:#85E89D;">path</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">webhookcainjection_patch.yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="info custom-block"><p class="custom-block-title">cert-manager responsibilities</p><ul><li>Issue TLS certificates for the webhook server</li><li>Inject CA bundles into webhook configurations</li><li>Renew certificates before expiration</li></ul></div><h3 id="resource-limits" tabindex="-1">Resource Limits <a class="header-anchor" href="#resource-limits" aria-label="Permalink to &quot;Resource Limits&quot;">​</a></h3><p>Adjust operator resource limits based on your cluster size:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># config/manager/manager.yaml</span></span>
<span class="line"><span style="color:#85E89D;">resources</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  limits</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    cpu</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">500m</span><span style="color:#6A737D;">      # Increase for large clusters</span></span>
<span class="line"><span style="color:#85E89D;">    memory</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">512Mi</span><span style="color:#6A737D;">  # Increase for many nodes</span></span>
<span class="line"><span style="color:#85E89D;">  requests</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    cpu</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">100m</span></span>
<span class="line"><span style="color:#85E89D;">    memory</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">128Mi</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="concurrency-settings" tabindex="-1">Concurrency Settings <a class="header-anchor" href="#concurrency-settings" aria-label="Permalink to &quot;Concurrency Settings&quot;">​</a></h3><p>Configure concurrent reconciliation workers:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#85E89D;">spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">  template</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">    spec</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#85E89D;">      containers</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      - </span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">manager</span></span>
<span class="line"><span style="color:#85E89D;">        args</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        - </span><span style="color:#9ECBFF;">--node-concurrency=10</span><span style="color:#6A737D;">        # Concurrent LynqNode reconciliations (default: 10)</span></span>
<span class="line"><span style="color:#E1E4E8;">        - </span><span style="color:#9ECBFF;">--form-concurrency=5</span><span style="color:#6A737D;">       # Concurrent Template reconciliations (default: 5)</span></span>
<span class="line"><span style="color:#E1E4E8;">        - </span><span style="color:#9ECBFF;">--hub-concurrency=3</span><span style="color:#6A737D;">       # Concurrent Hub syncs (default: 3)</span></span>
<span class="line"><span style="color:#E1E4E8;">        - </span><span style="color:#9ECBFF;">--leader-elect</span><span style="color:#6A737D;">                 # Enable leader election</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="multi-platform-support" tabindex="-1">Multi-Platform Support <a class="header-anchor" href="#multi-platform-support" aria-label="Permalink to &quot;Multi-Platform Support&quot;">​</a></h2><p>The operator supports multiple architectures:</p><ul><li><code>linux/amd64</code> (Intel/AMD 64-bit)</li><li><code>linux/arm64</code> (ARM 64-bit, Apple Silicon)</li></ul><p>Container images are automatically pulled for your platform.</p><h2 id="namespace-isolation" tabindex="-1">Namespace Isolation <a class="header-anchor" href="#namespace-isolation" aria-label="Permalink to &quot;Namespace Isolation&quot;">​</a></h2><p>By default, the operator is installed in <code>lynq-system</code> namespace:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check operator namespace</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> all</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># View RBAC</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> clusterrole</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> lynq</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> clusterrolebinding</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> lynq</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="upgrading" tabindex="-1">Upgrading <a class="header-anchor" href="#upgrading" aria-label="Permalink to &quot;Upgrading&quot;">​</a></h2><h3 id="upgrade-crds-first" tabindex="-1">Upgrade CRDs First <a class="header-anchor" href="#upgrade-crds-first" aria-label="Permalink to &quot;Upgrade CRDs First&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Upgrade CRDs (safe, preserves existing data)</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Or with kubectl</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> config/crd/bases/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="upgrade-operator" tabindex="-1">Upgrade Operator <a class="header-anchor" href="#upgrade-operator" aria-label="Permalink to &quot;Upgrade Operator&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Update operator deployment</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> set</span><span style="color:#9ECBFF;"> image</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/lynq-controller-manager</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  manager=ghcr.io/k8s-lynq/lynq:v1.1.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Or use make</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> deploy</span><span style="color:#9ECBFF;"> IMG=ghcr.io/k8s-lynq/lynq:v1.1.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="rolling-back" tabindex="-1">Rolling Back <a class="header-anchor" href="#rolling-back" aria-label="Permalink to &quot;Rolling Back&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Rollback to previous version</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> rollout</span><span style="color:#9ECBFF;"> undo</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/lynq-controller-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check rollout status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> rollout</span><span style="color:#9ECBFF;"> status</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#79B8FF;"> \\</span></span>
<span class="line"><span style="color:#9ECBFF;">  deployment/lynq-controller-manager</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="uninstallation" tabindex="-1">Uninstallation <a class="header-anchor" href="#uninstallation" aria-label="Permalink to &quot;Uninstallation&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Delete operator deployment</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#79B8FF;"> -k</span><span style="color:#9ECBFF;"> config/default</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Or with make</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> undeploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Delete CRDs (WARNING: This deletes all LynqNode data!)</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> uninstall</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Or with kubectl</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> crd</span><span style="color:#9ECBFF;"> lynqhubs.operator.lynq.sh</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> crd</span><span style="color:#9ECBFF;"> lynqforms.operator.lynq.sh</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> crd</span><span style="color:#9ECBFF;"> lynqnodes.operator.lynq.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>Warning:</strong> Deleting CRDs will delete all LynqHub, LynqForm, and LynqNode resources. Ensure you have backups if needed.</p><h2 id="troubleshooting-installation" tabindex="-1">Troubleshooting Installation <a class="header-anchor" href="#troubleshooting-installation" aria-label="Permalink to &quot;Troubleshooting Installation&quot;">​</a></h2><h3 id="webhook-tls-errors" tabindex="-1">Webhook TLS Errors <a class="header-anchor" href="#webhook-tls-errors" aria-label="Permalink to &quot;Webhook TLS Errors&quot;">​</a></h3><p><strong>Error:</strong> <code>open /tmp/k8s-webhook-server/serving-certs/tls.crt: no such file or directory</code></p><p><strong>Solution:</strong> Install cert-manager to automatically manage webhook TLS certificates.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Install cert-manager</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Wait for cert-manager to be ready</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> wait</span><span style="color:#79B8FF;"> --for=condition=Available</span><span style="color:#79B8FF;"> --timeout=300s</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> cert-manager</span><span style="color:#9ECBFF;"> deployment/cert-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Restart operator to pick up certificates</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> rollout</span><span style="color:#9ECBFF;"> restart</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> lynq-system</span><span style="color:#9ECBFF;"> deployment/lynq-controller-manager</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="crd-already-exists" tabindex="-1">CRD Already Exists <a class="header-anchor" href="#crd-already-exists" aria-label="Permalink to &quot;CRD Already Exists&quot;">​</a></h3><p><strong>Error:</strong> <code>Error from server (AlreadyExists): customresourcedefinitions.apiextensions.k8s.io &quot;lynqnodes.operator.lynq.sh&quot; already exists</code></p><p><strong>Solution:</strong> This is normal during upgrades. CRD updates are applied automatically.</p><h3 id="image-pull-errors" tabindex="-1">Image Pull Errors <a class="header-anchor" href="#image-pull-errors" aria-label="Permalink to &quot;Image Pull Errors&quot;">​</a></h3><p><strong>Error:</strong> <code>Failed to pull image &quot;ghcr.io/k8s-lynq/lynq:latest&quot;</code></p><p><strong>Solution:</strong> Ensure your cluster can access GitHub Container Registry (ghcr.io). Check network policies and image pull secrets if needed.</p><h3 id="permission-denied" tabindex="-1">Permission Denied <a class="header-anchor" href="#permission-denied" aria-label="Permalink to &quot;Permission Denied&quot;">​</a></h3><p><strong>Error:</strong> <code>Error from server (Forbidden): User &quot;system:serviceaccount:lynq-system:lynq-controller-manager&quot; cannot create resource</code></p><p><strong>Solution:</strong> Ensure RBAC resources are installed:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> config/rbac/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li><a href="./quickstart.html#step-4-deploy-lynqhub">Create your first LynqHub</a></li><li><a href="./templates.html">Learn about Templates</a></li><li><a href="./monitoring.html">Configure Monitoring</a></li><li><a href="./security.html">Set up Security</a></li></ul>`,85)])])}const m=a(o,[["render",r]]);export{b as __pageData,m as default};
