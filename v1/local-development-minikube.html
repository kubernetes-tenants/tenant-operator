<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Local Development with Minikube | Tenant Operator</title>
    <meta name="description" content="Multi-Tenant Kubernetes Automation Platform">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.qp7qGaqN.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Bxn46V03.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.9Uv4PgnO.js">
    <link rel="modulepreload" href="/assets/chunks/theme.B5xqON-W.js">
    <link rel="modulepreload" href="/assets/chunks/katex.BbEIqZs1.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-6UL2VRFP.LlWPfjAg.js">
    <link rel="modulepreload" href="/assets/chunks/cose-bilkent-S5V4N54A.Rh1Qzk7Y.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-YG6GDRKO.DaVFtlQ7.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-NV44I4VS.CHylxPTV.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-Q2GNP2WA.D5tnpZxn.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-NY62KEGX.DjfzXE0n.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-LVOFAZNH.uGxiidcT.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-ER5ION4S.C5siuME1.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-ADFJNKIX.Dau6JQwi.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-AYHSOK5B.ClSzfvHH.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-PRI3JC2R.BdEYm2u8.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-UZGBJVZJ.Dpb2i5MT.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-WL72ISMW.DYZnkZ4d.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-2ON5EDUG.DORWI7Y_.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-WZHVMYZB.DORWI7Y_.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-FKZM4ZOC.DTovoXY9.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-4FDKWEC3.DBc8vI6e.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-XKPGCS4Q.DRVoJPNl.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-IT6M3QCI.DIM2jClu.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-VGOIOE7T.DxvArB0l.js">
    <link rel="modulepreload" href="/assets/chunks/kanban-definition-3W4ZIXB7.jIV7Z4Rw.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-TZEHDZUN.cwlhGWD7.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-S2PKOQOG.DMj_5pQ1.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-QEK2KX5R.D_wMQRfd.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-VD42YOAC.DlLfJeco.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-VXUJARFQ.BhkReCbf.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-PSM6KHXK.CWo43amJ.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/local-development-minikube.md.S0ld4w8Z.lean.js">
    <link rel="icon" type="image/png" href="/logo.png">
    <link rel="shortcut icon" href="/logo.ico">
    <link rel="apple-touch-icon" href="/logo.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>Tenant Operator</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/quickstart.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Getting Started</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/api.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/glossary.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Reference</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kubernetes-tenants/tenant-operator" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kubernetes-tenants/tenant-operator" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Getting Started</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/installation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/quickstart.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/local-development-minikube.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Local Development (Minikube)</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Core Concepts</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/api.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>API Reference</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/datasource.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Datasources</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/templates.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Templates</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/dependencies.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Dependencies</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/policies.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Policies</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Configuration</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/configuration.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Configuration Guide</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Operations</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/monitoring.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Monitoring & Observability</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/performance.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Performance Tuning</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/security.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Security</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/troubleshooting.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Troubleshooting</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Integrations</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/integration-external-dns.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>External DNS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/integration-terraform-operator.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Terraform Operator</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Development</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/development.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/roadmap.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Roadmap</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Reference</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glossary.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Glossary</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/prometheus-queries.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Prometheus Queries</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _local-development-minikube" data-v-e6f2a212><div><h1 id="local-development-with-minikube" tabindex="-1">Local Development with Minikube <a class="header-anchor" href="#local-development-with-minikube" aria-label="Permalink to &quot;Local Development with Minikube&quot;">​</a></h1><p>Development workflow guide for contributing to and modifying Tenant Operator.</p><nav class="table-of-contents"><ul><li><a href="#overview">Overview</a></li><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#development-workflow">Development Workflow</a><ul><li><a href="#typical-development-cycle">Typical Development Cycle</a></li></ul></li><li><a href="#code-changes-rebuilding">Code Changes &amp; Rebuilding</a><ul><li><a href="#quick-rebuild-and-deploy">Quick Rebuild and Deploy</a></li><li><a href="#custom-image-tag">Custom Image Tag</a></li><li><a href="#manual-build-if-needed">Manual Build (if needed)</a></li></ul></li><li><a href="#running-operator-locally-outside-cluster">Running Operator Locally (Outside Cluster)</a></li><li><a href="#debugging">Debugging</a><ul><li><a href="#debug-with-delve">Debug with Delve</a></li><li><a href="#debug-operator-logs">Debug Operator Logs</a></li><li><a href="#debug-test-resources">Debug Test Resources</a></li></ul></li><li><a href="#testing">Testing</a><ul><li><a href="#unit-tests">Unit Tests</a></li><li><a href="#integration-tests">Integration Tests</a></li><li><a href="#e2e-testing">E2E Testing</a></li></ul></li><li><a href="#tips-for-fast-iteration">Tips for Fast Iteration</a><ul><li><a href="#_1-skip-image-build-for-controller-changes">1. Skip Image Build for Controller Changes</a></li><li><a href="#_2-keep-logs-open">2. Keep Logs Open</a></li><li><a href="#_3-use-watch-commands">3. Use Watch Commands</a></li><li><a href="#_4-quick-mysql-queries">4. Quick MySQL Queries</a></li><li><a href="#_5-fast-context-switching">5. Fast Context Switching</a></li></ul></li><li><a href="#common-development-scenarios">Common Development Scenarios</a><ul><li><a href="#scenario-1-testing-template-changes">Scenario 1: Testing Template Changes</a></li><li><a href="#scenario-2-testing-database-sync">Scenario 2: Testing Database Sync</a></li><li><a href="#scenario-3-testing-crd-changes">Scenario 3: Testing CRD Changes</a></li><li><a href="#scenario-4-testing-webhook-validation">Scenario 4: Testing Webhook Validation</a></li></ul></li><li><a href="#cleanup">Cleanup</a><ul><li><a href="#partial-cleanup-keep-cluster">Partial Cleanup (Keep Cluster)</a></li><li><a href="#full-cleanup">Full Cleanup</a></li><li><a href="#fresh-start">Fresh Start</a></li></ul></li><li><a href="#troubleshooting">Troubleshooting</a><ul><li><a href="#operator-won-t-start">Operator Won&#39;t Start</a></li><li><a href="#tests-failing">Tests Failing</a></li><li><a href="#image-not-updating">Image Not Updating</a></li></ul></li><li><a href="#advanced-workflows">Advanced Workflows</a><ul><li><a href="#multiple-minikube-profiles">Multiple Minikube Profiles</a></li><li><a href="#custom-resource-allocations">Custom Resource Allocations</a></li></ul></li><li><a href="#see-also">See Also</a></li><li><a href="#summary">Summary</a></li></ul></nav><div class="tip custom-block"><p class="custom-block-title">Quick taste</p><p>If you only want to experience the operator, follow the <a href="./quickstart.html">Quick Start guide</a> instead.</p></div><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>This guide covers the <strong>development workflow</strong> for making code changes to Tenant Operator and testing them locally on Minikube.</p><p><strong>Use this guide when you want to:</strong></p><ul><li>✅ Modify Tenant Operator source code</li><li>✅ Add new features or fix bugs</li><li>✅ Test code changes locally before committing</li><li>✅ Debug the operator with breakpoints</li><li>✅ Iterate quickly on code changes</li></ul><p><strong>For initial setup:</strong> Follow the <a href="./quickstart.html">Quick Start guide</a> first to set up your Minikube environment.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">Prerequisites</p><p>Complete the <a href="./quickstart.html">Quick Start guide</a> first. You should have:</p><ul><li>✅ Minikube cluster running (<code>tenant-operator</code> profile)</li><li>✅ Tenant Operator deployed</li><li>✅ MySQL test database (optional, for full testing)</li></ul></div><p>Additional development tools:</p><ul><li><strong>Go</strong> 1.22+</li><li><strong>make</strong></li><li><strong>golangci-lint</strong> (optional, for linting)</li><li><strong>delve</strong> (optional, for debugging)</li></ul><h2 id="development-workflow" tabindex="-1">Development Workflow <a class="header-anchor" href="#development-workflow" aria-label="Permalink to &quot;Development Workflow&quot;">​</a></h2><h3 id="typical-development-cycle" tabindex="-1">Typical Development Cycle <a class="header-anchor" href="#typical-development-cycle" aria-label="Permalink to &quot;Typical Development Cycle&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 1. Make code changes</span></span>
<span class="line"><span style="color:#B392F0;">vim</span><span style="color:#9ECBFF;"> internal/controller/tenant_controller.go</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2. Run unit tests</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3. Run linter</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> lint</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 4. Build and deploy to Minikube</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 5. View operator logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span><span style="color:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 6. Test changes</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> config/samples/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 7. Verify results</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenants</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> all</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ui</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 8. Repeat steps 1-7 as needed</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Iteration speed</p><p>Expect roughly 1–2 minutes per build + deploy cycle when using the provided scripts.</p></div><h2 id="code-changes-rebuilding" tabindex="-1">Code Changes &amp; Rebuilding <a class="header-anchor" href="#code-changes-rebuilding" aria-label="Permalink to &quot;Code Changes &amp; Rebuilding&quot;">​</a></h2><h3 id="quick-rebuild-and-deploy" tabindex="-1">Quick Rebuild and Deploy <a class="header-anchor" href="#quick-rebuild-and-deploy" aria-label="Permalink to &quot;Quick Rebuild and Deploy&quot;">​</a></h3><p>After making code changes:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Rebuild and redeploy operator</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>This script:</p><ol><li>Builds new Docker image with timestamp tag</li><li>Loads image into Minikube&#39;s internal registry</li><li>Updates operator deployment</li><li>Waits for readiness</li></ol><p><strong>Why timestamp tags?</strong> Each deployment gets a unique tag, preventing Kubernetes from using cached old images.</p><h3 id="custom-image-tag" tabindex="-1">Custom Image Tag <a class="header-anchor" href="#custom-image-tag" aria-label="Permalink to &quot;Custom Image Tag&quot;">​</a></h3><p>Use a custom tag for easier identification:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">IMG</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">tenant-operator:my-feature</span><span style="color:#B392F0;"> ./scripts/deploy-to-minikube.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="manual-build-if-needed" tabindex="-1">Manual Build (if needed) <a class="header-anchor" href="#manual-build-if-needed" aria-label="Permalink to &quot;Manual Build (if needed)&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Build binary locally</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Build Docker image</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> docker-build</span><span style="color:#9ECBFF;"> IMG=tenant-operator:dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Load into Minikube</span></span>
<span class="line"><span style="color:#B392F0;">minikube</span><span style="color:#79B8FF;"> -p</span><span style="color:#9ECBFF;"> tenant-operator</span><span style="color:#9ECBFF;"> image</span><span style="color:#9ECBFF;"> load</span><span style="color:#9ECBFF;"> tenant-operator:dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="running-operator-locally-outside-cluster" tabindex="-1">Running Operator Locally (Outside Cluster) <a class="header-anchor" href="#running-operator-locally-outside-cluster" aria-label="Permalink to &quot;Running Operator Locally (Outside Cluster)&quot;">​</a></h2><p>For fastest iteration, run the operator locally on your machine while connecting to the Minikube cluster:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Ensure CRDs are installed</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Run operator locally</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> run</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Benefits</p><ul><li>✅ Instant restarts (no image build/load)</li><li>✅ Direct Go debugging with breakpoints</li><li>✅ Real-time logs in your terminal</li><li>✅ Fast feedback loop (~5 seconds)</li></ul></div><div class="warning custom-block"><p class="custom-block-title">Limitations</p><ul><li>⚠️ Webhooks unavailable (TLS requires in-cluster deployment)</li><li>⚠️ Runtime differs from production environment</li></ul></div><p><strong>When to use:</strong></p><ul><li>Controller logic changes</li><li>Quick iteration on reconciliation loops</li><li>Debugging with delve</li></ul><p><strong>When NOT to use:</strong></p><ul><li>Testing webhooks</li><li>Verifying in-cluster networking</li><li>Final testing before PR</li></ul><p><strong>Testing with local run:</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Terminal 1: Run operator</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> run</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Terminal 2: Apply resources</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> config/samples/</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenants</span><span style="color:#79B8FF;"> --watch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Terminal 3: View database changes</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> exec</span><span style="color:#79B8FF;"> -it</span><span style="color:#9ECBFF;"> deployment/mysql</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-test</span><span style="color:#79B8FF;"> --</span><span style="color:#79B8FF;"> \</span></span>
<span class="line"><span style="color:#9ECBFF;">  mysql</span><span style="color:#79B8FF;"> -u</span><span style="color:#9ECBFF;"> tenant_reader</span><span style="color:#79B8FF;"> -p</span><span style="color:#9ECBFF;"> tenants</span><span style="color:#79B8FF;"> -e</span><span style="color:#9ECBFF;"> &quot;SELECT * FROM tenant_configs;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="debugging" tabindex="-1">Debugging <a class="header-anchor" href="#debugging" aria-label="Permalink to &quot;Debugging&quot;">​</a></h2><h3 id="debug-with-delve" tabindex="-1">Debug with Delve <a class="header-anchor" href="#debug-with-delve" aria-label="Permalink to &quot;Debug with Delve&quot;">​</a></h3><p>Run operator with debugger:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Install delve if needed</span></span>
<span class="line"><span style="color:#B392F0;">go</span><span style="color:#9ECBFF;"> install</span><span style="color:#9ECBFF;"> github.com/go-delve/delve/cmd/dlv@latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Run with delve</span></span>
<span class="line"><span style="color:#B392F0;">dlv</span><span style="color:#9ECBFF;"> debug</span><span style="color:#9ECBFF;"> ./cmd/main.go</span><span style="color:#79B8FF;"> --</span><span style="color:#79B8FF;"> --zap-devel=true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Then in delve:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>(dlv) break internal/controller/tenant_controller.go:123</span></span>
<span class="line"><span>(dlv) continue</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="debug-operator-logs" tabindex="-1">Debug Operator Logs <a class="header-anchor" href="#debug-operator-logs" aria-label="Permalink to &quot;Debug Operator Logs&quot;">​</a></h3><p>View operator logs with different verbosity:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Default logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span><span style="color:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Filter for specific tenant</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> acme-corp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Follow logs for errors only</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span><span style="color:#79B8FF;"> -f</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> error</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># View logs from previous crash</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span><span style="color:#79B8FF;"> --previous</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="debug-test-resources" tabindex="-1">Debug Test Resources <a class="header-anchor" href="#debug-test-resources" aria-label="Permalink to &quot;Debug Test Resources&quot;">​</a></h3><p>View what the operator sees:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check Tenant CR status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenant</span><span style="color:#9ECBFF;"> acme-corp-test-template</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check registry sync status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenantregistry</span><span style="color:#9ECBFF;"> test-registry</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> yq</span><span style="color:#9ECBFF;"> &#39;.status&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check template</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenanttemplate</span><span style="color:#9ECBFF;"> test-template</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># View events</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> events</span><span style="color:#79B8FF;"> --sort-by=</span><span style="color:#9ECBFF;">&#39;.lastTimestamp&#39;</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Describe resource for events</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> describe</span><span style="color:#9ECBFF;"> tenant</span><span style="color:#9ECBFF;"> acme-corp-test-template</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="testing" tabindex="-1">Testing <a class="header-anchor" href="#testing" aria-label="Permalink to &quot;Testing&quot;">​</a></h2><h3 id="unit-tests" tabindex="-1">Unit Tests <a class="header-anchor" href="#unit-tests" aria-label="Permalink to &quot;Unit Tests&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Run all tests</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Run with coverage</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> test-coverage</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Run specific package</span></span>
<span class="line"><span style="color:#B392F0;">go</span><span style="color:#9ECBFF;"> test</span><span style="color:#9ECBFF;"> ./internal/controller/...</span><span style="color:#79B8FF;"> -v</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Run specific test</span></span>
<span class="line"><span style="color:#B392F0;">go</span><span style="color:#9ECBFF;"> test</span><span style="color:#9ECBFF;"> ./internal/controller/</span><span style="color:#79B8FF;"> -run</span><span style="color:#9ECBFF;"> TestTenantController_Reconcile</span><span style="color:#79B8FF;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="integration-tests" tabindex="-1">Integration Tests <a class="header-anchor" href="#integration-tests" aria-label="Permalink to &quot;Integration Tests&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Requires running Minikube cluster</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> test-integration</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="e2e-testing" tabindex="-1">E2E Testing <a class="header-anchor" href="#e2e-testing" aria-label="Permalink to &quot;E2E Testing&quot;">​</a></h3><p>Test complete workflow:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 1. Deploy fresh operator</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2. Deploy test database</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-mysql.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3. Deploy test registry and template</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-tenantregistry.sh</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-tenanttemplate.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 4. Verify tenants created</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenants</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> deployments,services</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> kubernetes-tenants.org/tenant</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 5. Test lifecycle: Add tenant</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> exec</span><span style="color:#79B8FF;"> -it</span><span style="color:#9ECBFF;"> deployment/mysql</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-test</span><span style="color:#79B8FF;"> --</span><span style="color:#79B8FF;"> \</span></span>
<span class="line"><span style="color:#9ECBFF;">  mysql</span><span style="color:#79B8FF;"> -u</span><span style="color:#9ECBFF;"> root</span><span style="color:#79B8FF;"> -p</span><span style="color:#9ECBFF;"> tenants</span><span style="color:#79B8FF;"> -e</span><span style="color:#79B8FF;"> \</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;INSERT INTO tenant_configs VALUES (&#39;delta-co&#39;, &#39;https://delta.example.com&#39;, 1, &#39;enterprise&#39;);&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Wait 30s, then verify</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenant</span><span style="color:#9ECBFF;"> delta-co-test-template</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 6. Test lifecycle: Deactivate tenant</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> exec</span><span style="color:#79B8FF;"> -it</span><span style="color:#9ECBFF;"> deployment/mysql</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-test</span><span style="color:#79B8FF;"> --</span><span style="color:#79B8FF;"> \</span></span>
<span class="line"><span style="color:#9ECBFF;">  mysql</span><span style="color:#79B8FF;"> -u</span><span style="color:#9ECBFF;"> root</span><span style="color:#79B8FF;"> -p</span><span style="color:#9ECBFF;"> tenants</span><span style="color:#79B8FF;"> -e</span><span style="color:#79B8FF;"> \</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;UPDATE tenant_configs SET is_active = 0 WHERE tenant_id = &#39;acme-corp&#39;;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Wait 30s, then verify deletion</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenant</span><span style="color:#9ECBFF;"> acme-corp-test-template</span></span>
<span class="line"><span style="color:#6A737D;"># Should be NotFound</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="tips-for-fast-iteration" tabindex="-1">Tips for Fast Iteration <a class="header-anchor" href="#tips-for-fast-iteration" aria-label="Permalink to &quot;Tips for Fast Iteration&quot;">​</a></h2><h3 id="_1-skip-image-build-for-controller-changes" tabindex="-1">1. Skip Image Build for Controller Changes <a class="header-anchor" href="#_1-skip-image-build-for-controller-changes" aria-label="Permalink to &quot;1. Skip Image Build for Controller Changes&quot;">​</a></h3><p>If only changing controller logic (not CRDs, RBAC, etc.):</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Run locally instead of deploying</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> run</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>~10x faster</strong> than full build/deploy cycle.</p><h3 id="_2-keep-logs-open" tabindex="-1">2. Keep Logs Open <a class="header-anchor" href="#_2-keep-logs-open" aria-label="Permalink to &quot;2. Keep Logs Open&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># In a dedicated terminal</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span><span style="color:#79B8FF;"> -f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-use-watch-commands" tabindex="-1">3. Use Watch Commands <a class="header-anchor" href="#_3-use-watch-commands" aria-label="Permalink to &quot;3. Use Watch Commands&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Watch tenants</span></span>
<span class="line"><span style="color:#B392F0;">watch</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenants</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Watch specific tenant</span></span>
<span class="line"><span style="color:#B392F0;">watch</span><span style="color:#9ECBFF;"> kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenant</span><span style="color:#9ECBFF;"> acme-corp-test-template</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_4-quick-mysql-queries" tabindex="-1">4. Quick MySQL Queries <a class="header-anchor" href="#_4-quick-mysql-queries" aria-label="Permalink to &quot;4. Quick MySQL Queries&quot;">​</a></h3><p>Create aliases:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> mysql-test</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;kubectl exec -it deployment/mysql -n tenant-operator-test -- mysql -u tenant_reader -p$(kubectl get secret mysql-credentials -n tenant-operator-test -o jsonpath=&quot;{.data.password}&quot; | base64 -d) tenants&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Then use:</span></span>
<span class="line"><span style="color:#B392F0;">mysql-test</span><span style="color:#79B8FF;"> -e</span><span style="color:#9ECBFF;"> &quot;SELECT * FROM tenant_configs;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_5-fast-context-switching" tabindex="-1">5. Fast Context Switching <a class="header-anchor" href="#_5-fast-context-switching" aria-label="Permalink to &quot;5. Fast Context Switching&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Add to ~/.zshrc or ~/.bashrc</span></span>
<span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> kto</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;kubectl config use-context tenant-operator&#39;</span></span>
<span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> ktos</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;kubectl -n tenant-operator-system&#39;</span></span>
<span class="line"><span style="color:#F97583;">alias</span><span style="color:#E1E4E8;"> ktot</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;kubectl -n tenant-operator-test&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Usage:</span></span>
<span class="line"><span style="color:#B392F0;">kto</span><span style="color:#6A737D;">  # Switch to tenant-operator context</span></span>
<span class="line"><span style="color:#B392F0;">ktos</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pods</span><span style="color:#6A737D;">  # Get pods in operator namespace</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="common-development-scenarios" tabindex="-1">Common Development Scenarios <a class="header-anchor" href="#common-development-scenarios" aria-label="Permalink to &quot;Common Development Scenarios&quot;">​</a></h2><h3 id="scenario-1-testing-template-changes" tabindex="-1">Scenario 1: Testing Template Changes <a class="header-anchor" href="#scenario-1-testing-template-changes" aria-label="Permalink to &quot;Scenario 1: Testing Template Changes&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 1. Modify template logic in tenant_controller.go</span></span>
<span class="line"><span style="color:#B392F0;">vim</span><span style="color:#9ECBFF;"> internal/controller/tenant_controller.go</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2. Run locally for quick feedback</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> run</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3. In another terminal, apply test template</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> config/samples/operator_v1_tenanttemplate.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 4. Watch logs and verify rendered resources</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span><span style="color:#79B8FF;"> -f</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenant</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -A</span><span style="color:#79B8FF;"> 10</span><span style="color:#9ECBFF;"> &quot;spec:&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="scenario-2-testing-database-sync" tabindex="-1">Scenario 2: Testing Database Sync <a class="header-anchor" href="#scenario-2-testing-database-sync" aria-label="Permalink to &quot;Scenario 2: Testing Database Sync&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 1. Modify registry controller</span></span>
<span class="line"><span style="color:#B392F0;">vim</span><span style="color:#9ECBFF;"> internal/controller/tenantregistry_controller.go</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2. Deploy to test in-cluster</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3. Change database and watch sync</span></span>
<span class="line"><span style="color:#B392F0;">mysql-test</span><span style="color:#79B8FF;"> -e</span><span style="color:#9ECBFF;"> &quot;UPDATE tenant_configs SET subscription_plan = &#39;premium&#39; WHERE tenant_id = &#39;acme-corp&#39;;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 4. Verify Tenant CR updated</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> tenant</span><span style="color:#9ECBFF;"> acme-corp-test-template</span><span style="color:#79B8FF;"> -o</span><span style="color:#9ECBFF;"> yaml</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> planId</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="scenario-3-testing-crd-changes" tabindex="-1">Scenario 3: Testing CRD Changes <a class="header-anchor" href="#scenario-3-testing-crd-changes" aria-label="Permalink to &quot;Scenario 3: Testing CRD Changes&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 1. Modify CRD in api/v1/</span></span>
<span class="line"><span style="color:#B392F0;">vim</span><span style="color:#9ECBFF;"> api/v1/tenant_types.go</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2. Regenerate manifests</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> manifests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3. Install updated CRDs</span></span>
<span class="line"><span style="color:#B392F0;">make</span><span style="color:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 4. Rebuild and deploy operator</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 5. Test with updated CRD</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> config/samples/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="scenario-4-testing-webhook-validation" tabindex="-1">Scenario 4: Testing Webhook Validation <a class="header-anchor" href="#scenario-4-testing-webhook-validation" aria-label="Permalink to &quot;Scenario 4: Testing Webhook Validation&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 1. Modify webhook in api/v1/*_webhook.go</span></span>
<span class="line"><span style="color:#B392F0;">vim</span><span style="color:#9ECBFF;"> api/v1/tenanttemplate_webhook.go</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2. Must deploy to cluster (webhooks need TLS)</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3. Test invalid resource</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> apply</span><span style="color:#79B8FF;"> -f</span><span style="color:#9ECBFF;"> -</span><span style="color:#F97583;"> &lt;&lt;</span><span style="color:#9ECBFF;">EOF</span></span>
<span class="line"><span style="color:#9ECBFF;">apiVersion: operator.kubernetes-tenants.org/v1</span></span>
<span class="line"><span style="color:#9ECBFF;">kind: TenantTemplate</span></span>
<span class="line"><span style="color:#9ECBFF;">metadata:</span></span>
<span class="line"><span style="color:#9ECBFF;">  name: invalid-template</span></span>
<span class="line"><span style="color:#9ECBFF;">spec:</span></span>
<span class="line"><span style="color:#9ECBFF;">  registryId: non-existent-registry  # Should fail validation</span></span>
<span class="line"><span style="color:#9ECBFF;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 4. Should see validation error</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="cleanup" tabindex="-1">Cleanup <a class="header-anchor" href="#cleanup" aria-label="Permalink to &quot;Cleanup&quot;">​</a></h2><h3 id="partial-cleanup-keep-cluster" tabindex="-1">Partial Cleanup (Keep Cluster) <a class="header-anchor" href="#partial-cleanup-keep-cluster" aria-label="Permalink to &quot;Partial Cleanup (Keep Cluster)&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Delete test resources</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> tenants</span><span style="color:#79B8FF;"> --all</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> tenanttemplate</span><span style="color:#9ECBFF;"> test-template</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> tenantregistry</span><span style="color:#9ECBFF;"> test-registry</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Delete MySQL</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> deployment,service,pvc</span><span style="color:#9ECBFF;"> mysql</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Delete operator</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> delete</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#9ECBFF;"> tenant-operator-controller-manager</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="full-cleanup" tabindex="-1">Full Cleanup <a class="header-anchor" href="#full-cleanup" aria-label="Permalink to &quot;Full Cleanup&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Delete everything including cluster</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/cleanup-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Answer &#39;y&#39; to all prompts for complete cleanup</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="fresh-start" tabindex="-1">Fresh Start <a class="header-anchor" href="#fresh-start" aria-label="Permalink to &quot;Fresh Start&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Complete reset</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/cleanup-minikube.sh</span><span style="color:#6A737D;">  # Delete everything</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/setup-minikube.sh</span><span style="color:#6A737D;">    # Recreate cluster</span></span>
<span class="line"><span style="color:#B392F0;">./scripts/deploy-to-minikube.sh</span><span style="color:#6A737D;">  # Deploy operator</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><h3 id="operator-won-t-start" tabindex="-1">Operator Won&#39;t Start <a class="header-anchor" href="#operator-won-t-start" aria-label="Permalink to &quot;Operator Won&#39;t Start&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Check pod status</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> pods</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check logs</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> logs</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#79B8FF;"> -l</span><span style="color:#9ECBFF;"> control-plane=controller-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Common issues:</span></span>
<span class="line"><span style="color:#6A737D;"># - cert-manager not ready: kubectl get pods -n cert-manager</span></span>
<span class="line"><span style="color:#6A737D;"># - Image not loaded: minikube -p tenant-operator image ls | grep tenant-operator</span></span>
<span class="line"><span style="color:#6A737D;"># - CRDs not installed: kubectl get crd | grep tenant</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="tests-failing" tabindex="-1">Tests Failing <a class="header-anchor" href="#tests-failing" aria-label="Permalink to &quot;Tests Failing&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Ensure test cluster is accessible</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> cluster-info</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Check if CRDs are installed</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> get</span><span style="color:#9ECBFF;"> crd</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> tenant</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Run tests with verbose output</span></span>
<span class="line"><span style="color:#B392F0;">go</span><span style="color:#9ECBFF;"> test</span><span style="color:#9ECBFF;"> ./...</span><span style="color:#79B8FF;"> -v</span><span style="color:#79B8FF;"> -count=1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="image-not-updating" tabindex="-1">Image Not Updating <a class="header-anchor" href="#image-not-updating" aria-label="Permalink to &quot;Image Not Updating&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Force rebuild without cache</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#9ECBFF;"> build</span><span style="color:#79B8FF;"> --no-cache</span><span style="color:#79B8FF;"> -t</span><span style="color:#9ECBFF;"> tenant-operator:dev</span><span style="color:#9ECBFF;"> .</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Reload into Minikube</span></span>
<span class="line"><span style="color:#B392F0;">minikube</span><span style="color:#79B8FF;"> -p</span><span style="color:#9ECBFF;"> tenant-operator</span><span style="color:#9ECBFF;"> image</span><span style="color:#9ECBFF;"> load</span><span style="color:#9ECBFF;"> tenant-operator:dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Restart operator pod</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> rollout</span><span style="color:#9ECBFF;"> restart</span><span style="color:#9ECBFF;"> deployment</span><span style="color:#79B8FF;"> -n</span><span style="color:#9ECBFF;"> tenant-operator-system</span><span style="color:#9ECBFF;"> tenant-operator-controller-manager</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="advanced-workflows" tabindex="-1">Advanced Workflows <a class="header-anchor" href="#advanced-workflows" aria-label="Permalink to &quot;Advanced Workflows&quot;">​</a></h2><h3 id="multiple-minikube-profiles" tabindex="-1">Multiple Minikube Profiles <a class="header-anchor" href="#multiple-minikube-profiles" aria-label="Permalink to &quot;Multiple Minikube Profiles&quot;">​</a></h3><p>Work on multiple features simultaneously:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># Feature A cluster</span></span>
<span class="line"><span style="color:#E1E4E8;">MINIKUBE_PROFILE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">feature-a</span><span style="color:#B392F0;"> ./scripts/setup-minikube.sh</span></span>
<span class="line"><span style="color:#E1E4E8;">MINIKUBE_PROFILE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">feature-a</span><span style="color:#B392F0;"> ./scripts/deploy-to-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Feature B cluster</span></span>
<span class="line"><span style="color:#E1E4E8;">MINIKUBE_PROFILE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">feature-b</span><span style="color:#B392F0;"> ./scripts/setup-minikube.sh</span></span>
<span class="line"><span style="color:#E1E4E8;">MINIKUBE_PROFILE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">feature-b</span><span style="color:#B392F0;"> ./scripts/deploy-to-minikube.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Switch between them</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> config</span><span style="color:#9ECBFF;"> use-context</span><span style="color:#9ECBFF;"> feature-a</span></span>
<span class="line"><span style="color:#B392F0;">kubectl</span><span style="color:#9ECBFF;"> config</span><span style="color:#9ECBFF;"> use-context</span><span style="color:#9ECBFF;"> feature-b</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="custom-resource-allocations" tabindex="-1">Custom Resource Allocations <a class="header-anchor" href="#custom-resource-allocations" aria-label="Permalink to &quot;Custom Resource Allocations&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># More powerful cluster for load testing</span></span>
<span class="line"><span style="color:#E1E4E8;">MINIKUBE_CPUS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">8</span><span style="color:#B392F0;"> \</span></span>
<span class="line"><span style="color:#E1E4E8;">MINIKUBE_MEMORY=16384 </span><span style="color:#79B8FF;">\</span></span>
<span class="line"><span style="color:#E1E4E8;">./scripts/setup-minikube.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="./quickstart.html">Quick Start</a> - Initial setup guide</li><li><a href="./development.html">Development Guide</a> - General development practices</li><li><a href="https://github.com/kubernetes-tenants/tenant-operator/blob/main/CONTRIBUTING.md" target="_blank" rel="noreferrer">Contributing</a> - Contribution guidelines</li><li><a href="./troubleshooting.html">Troubleshooting</a> - Common issues</li></ul><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p><strong>Fast iteration workflow:</strong></p><ol><li>Make code changes</li><li>Run <code>make run</code> for controller changes (5s feedback)</li><li>Or run <code>./scripts/deploy-to-minikube.sh</code> for full testing (2min)</li><li>Test with <code>kubectl apply -f config/samples/</code></li><li>Iterate</li></ol><p><strong>Key takeaways:</strong></p><ul><li>Use <code>make run</code> for fastest iteration (no webhooks)</li><li>Use <code>./scripts/deploy-to-minikube.sh</code> for full testing (with webhooks)</li><li>Keep logs open in a separate terminal</li><li>Test E2E with real MySQL database</li><li>Clean up and reset when needed</li></ul><p>Happy coding! 🚀</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/kubernetes-tenants/tenant-operator/edit/main/docs/local-development-minikube.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Updated at: <time datetime="2025-10-31T05:06:34.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/quickstart.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Quick Start</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/api.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>API Reference</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4><p style="margin-bottom: 12px">Released under the Apache 2.0 License.<br />Built with ❤️ using Kubebuilder, Controller-Runtime, and VitePress.</p></p><p class="copyright" data-v-566314d4>Copyright © 2025 Tenant Operator</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api.md\":\"huWQHXGd\",\"configuration.md\":\"Yl9Xya92\",\"datasource.md\":\"CqO-I68k\",\"dependencies.md\":\"UmtYv7Hp\",\"development.md\":\"DSeV2f_W\",\"glossary.md\":\"C-UWM-iP\",\"index.md\":\"CFegnhPY\",\"installation.md\":\"g4fAWFAA\",\"integration-external-dns.md\":\"CGS841kU\",\"integration-terraform-operator.md\":\"C2eH2ofo\",\"local-development-minikube.md\":\"S0ld4w8Z\",\"monitoring.md\":\"DIoRbX3O\",\"performance.md\":\"DfsXMmVF\",\"policies.md\":\"BKu5fz3j\",\"prometheus-queries.md\":\"L0m6utVt\",\"quickstart.md\":\"C_ENjqV3\",\"roadmap.md\":\"BkSd4VgO\",\"security.md\":\"BxTc_Slz\",\"templates.md\":\"CBvNJpe2\",\"troubleshooting.md\":\"gashcyYw\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Tenant Operator\",\"description\":\"Multi-Tenant Kubernetes Automation Platform\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Getting Started\",\"link\":\"/quickstart\"},{\"text\":\"Guide\",\"link\":\"/api\"},{\"text\":\"Reference\",\"link\":\"/glossary\"}],\"sidebar\":[{\"text\":\"Getting Started\",\"collapsed\":false,\"items\":[{\"text\":\"Installation\",\"link\":\"/installation\"},{\"text\":\"Quick Start\",\"link\":\"/quickstart\"},{\"text\":\"Local Development (Minikube)\",\"link\":\"/local-development-minikube\"}]},{\"text\":\"Core Concepts\",\"collapsed\":false,\"items\":[{\"text\":\"API Reference\",\"link\":\"/api\"},{\"text\":\"Datasources\",\"link\":\"/datasource\"},{\"text\":\"Templates\",\"link\":\"/templates\"},{\"text\":\"Dependencies\",\"link\":\"/dependencies\"},{\"text\":\"Policies\",\"link\":\"/policies\"}]},{\"text\":\"Configuration\",\"collapsed\":false,\"items\":[{\"text\":\"Configuration Guide\",\"link\":\"/configuration\"}]},{\"text\":\"Operations\",\"collapsed\":false,\"items\":[{\"text\":\"Monitoring & Observability\",\"link\":\"/monitoring\"},{\"text\":\"Performance Tuning\",\"link\":\"/performance\"},{\"text\":\"Security\",\"link\":\"/security\"},{\"text\":\"Troubleshooting\",\"link\":\"/troubleshooting\"}]},{\"text\":\"Integrations\",\"collapsed\":false,\"items\":[{\"text\":\"External DNS\",\"link\":\"/integration-external-dns\"},{\"text\":\"Terraform Operator\",\"link\":\"/integration-terraform-operator\"}]},{\"text\":\"Development\",\"collapsed\":false,\"items\":[{\"text\":\"Development Guide\",\"link\":\"/development\"},{\"text\":\"Roadmap\",\"link\":\"/roadmap\"}]},{\"text\":\"Reference\",\"collapsed\":false,\"items\":[{\"text\":\"Glossary\",\"link\":\"/glossary\"},{\"text\":\"Prometheus Queries\",\"link\":\"/prometheus-queries\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/kubernetes-tenants/tenant-operator\"}],\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"<p style=\\\"margin-bottom: 12px\\\">Released under the Apache 2.0 License.<br />Built with ❤️ using Kubebuilder, Controller-Runtime, and VitePress.</p>\",\"copyright\":\"Copyright © 2025 Tenant Operator\"},\"editLink\":{\"pattern\":\"https://github.com/kubernetes-tenants/tenant-operator/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Updated at\",\"formatOptions\":{\"dateStyle\":\"full\",\"timeStyle\":\"medium\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>